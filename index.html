<!DOCTYPE html>
<html>
<head>
    <title>NOAA Link Hunter</title>
    <style>
        body { background: #1a1a1a; color: white; font-family: monospace; text-align: center; }
        img { max-width: 80%; border: 3px solid #00FF00; margin-top: 20px; display: none; }
        .log { margin: 10px; padding: 10px; background: #333; display: inline-block; text-align: left; }
        .success { color: #00FF00; font-weight: bold; }
        .fail { color: #FF4444; }
    </style>
</head>
<body>
    <h2>NOAA Link Diagnostics</h2>
    <div id="console" class="log">Initializing Search...<br></div>
    <br>
    <img id="winnerImage" src="" />

    <script>
        const consoleDiv = document.getElementById("console");
        const imgDisplay = document.getElementById("winnerImage");

        // LIST OF POTENTIAL URLS (New GOES-19 vs Old GOES-16)
        const candidates = [
            // 1. New GOES-19 Animated GIF (Most likely for 2025)
            "https://cdn.star.nesdis.noaa.gov/GOES19/ABI/GIFS/GOES19-CONUS-GeoColor.gif",
            
            // 2. New GOES-19 Static JPG (Backup)
            "https://cdn.star.nesdis.noaa.gov/GOES19/ABI/CONUS/GEOCOLOR/latest.jpg",

            // 3. Old GOES-16 Animated GIF (If they rolled back)
            "https://cdn.star.nesdis.noaa.gov/GOES16/ABI/GIFS/GOES16-CONUS-GeoColor.gif",

            // 4. Old GOES-16 Static JPG
            "https://cdn.star.nesdis.noaa.gov/GOES16/ABI/CONUS/GEOCOLOR/latest.jpg"
        ];

        function log(msg, type) {
            const span = document.createElement("div");
            span.innerHTML = msg;
            span.className = type;
            consoleDiv.appendChild(span);
        }

        function testLink(url) {
            log("Testing: " + url.split('/').pop(), "normal");
            
            const tester = new Image();
            tester.onload = function() {
                if(imgDisplay.style.display === "block") return; // Already found a winner
                
                log("✅ SUCCESS! Found valid source.", "success");
                log("<b>WORKING URL:</b> " + url, "success");
                
                imgDisplay.src = url;
                imgDisplay.style.display = "block";
            };
            
            tester.onerror = function() {
                log("❌ FAILED: " + url.split('/').pop(), "fail");
            };
            
            // Add timestamp to prevent caching
            tester.src = url + "?t=" + new Date().getTime();
        }

        // Run tests
        candidates.forEach(url => testLink(url));
    </script>
</body>
</html>
